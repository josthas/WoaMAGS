<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>AGS Tutorials</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="site.css" rel="stylesheet" type="text/css">
<meta name="Microsoft Border" content="t, default">
</head>

<body background="images/bg_main.gif" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>
<p><img src="images/spacer.gif" width="10" height="3" alt="spacer graphic">
</p>
<table width="95%" border="0" align="center" cellpadding="0" cellspacing="1" bgcolor="000000" id="table1">
	<tr>
		<td class="edges">
		<img src="images/spacer.gif" width="10" height="3" alt="spacer graphic"></td>
	</tr>
	<tr>
		<td class="edges">
		<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" id="table2">
			<tr>
				<td align="left">
				<img src="images/montage01.jpg" alt="Montage of games"></td>
				<td align="right">
				<img src="images/logo_AGS.jpg" width="329" height="42" alt="AGS Logo"></td>
			</tr>
		</table>
		</td>
	</tr>
	<tr>
		<td align="right" background="images/bg_nav.gif" class="white">
		Current Version: 3.1.2 SP1</td>
	</tr>
	<tr>
		<td class="edges">
		<img src="images/spacer.gif" width="10" height="3" alt="spacer graphic"></td>
	</tr>
</table>
<p style="margin-top: -5px; margin-bottom: 0">&nbsp;</p>

</td></tr><!--msnavigation--></table><!--msnavigation--><table dir="ltr" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><!--msnavigation--><td valign="top">
<table width="95%" border="0" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="175" valign="top">
<table width="100%" border="0" cellpadding="0" cellspacing="1" bgcolor="000000">
<tr> 
<td class="edges"><img src="images/spacer.gif" width="10" height="3" alt="spacer graphic"></td>
</tr>
<tr> 
<td align="center" bgcolor="f6f6f6" class="titles">Menu</td>
</tr>
<tr> 
<td bgcolor="ffffff" class="sidetext"><table width="100%" border="0" cellspacing="0" cellpadding="3">
<tr> 
<td align="left" class="sideout">
<img src="images/nav_dot.gif" width="8" height="8" hspace="3" alt="spacer graphic"> 
<strong>Home</strong></td>
</tr>
<tr> 
<td align="left" class="sideout"><table width="95%" border="0" align="right" cellpadding="0" cellspacing="0">
<tr> 
<td class="sublinkout">&#8226; <a href="ac.shtml">About</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="acnews.htm">News</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="acfeat.htm">Features</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="acdload.htm">Download AGS</a></td>
</tr>
</table></td>
</tr>
<tr>
<td align="left" class="sideout"><img src="images/nav_dot.gif" width="8" height="8" hspace="3" alt="spacer graphic"> 
<strong>Games</strong><span class="maintext"><strong>&nbsp;</strong></span></td>
</tr>
<tr> 
<td align="left" class="sideout"><table width="95%" border="0" align="right" cellpadding="0" cellspacing="0">
<tr> 
<td class="sublinkout">&#8226; <a href="games.php">Games main page</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="games.php?category=102">Award Winners</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="games.php?action=pickofmonthhistory">
Picks of the month</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="games.php?category=0">Short games</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="games.php?category=6">Medium length 
games</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="games.php?category=1">Full length games</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; 
<a href="http://www.bigbluecup.com/yabb/index.php?board=8">In Production</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; 
<a href="http://www.bigbluecup.com/yabb/index.php?board=7">Hints &amp; Tips</a></td>
</tr>
</table></td>
</tr>
<tr> 
<td align="left" class="sideout"><img src="images/nav_dot.gif" width="8" height="8" hspace="3"> 
<strong>Community</strong><span class="maintext"><strong></strong></span></td>
</tr>
<tr> 
<td align="left" class="sideout"><table width="95%" border="0" align="right" cellpadding="0" cellspacing="0">
<tr> 
<td class="sublinkout">&#8226; <a href="forums.shtml">Forums</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="worldmap.php">AGSers World Map</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="memberwebs.php">Member websites</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="acirc.htm">Chat</a></td>
</tr>
</table></td>
</tr>
<tr> 

<td align="left" class="sideout"><img src="images/nav_dot.gif" width="8" height="8" hspace="3"> 
<strong>Resources</strong></td>
</tr>
<tr>
<td align="left" class="sideout"><table width="95%" border="0" align="right" cellpadding="0" cellspacing="0">
<tr> 
<td class="sublinkout">&#8226; <a href="acres.shtml">Tutorials</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="acfaq.htm">FAQ</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="ackb.shtml">Knowledge Base</a></td>
</tr>
<tr> 
<td class="sublinkout">&#8226; <a href="acres.shtml">Downloads</a></td>
</tr>
</table></td>
</tr>
<tr> 
<td align="left" class="sideout"><img src="images/nav_dot.gif" width="8" height="8" hspace="3"> 
<strong>Links</strong></td>
<tr>
<td align="left" class="sideout"><table width="95%" border="0" align="right" cellpadding="0" cellspacing="0">
<tr> 
<td class="sublinkout">&#8226; <a href="aclinks.htm">AGS-related links</a></td>
</tr>
</table></td>

</tr>
</table></td>
</tr>
<tr> 
<td class="edges"><img src="images/spacer.gif" width="10" height="2"></td>
</tr>
</table>
<img src="images/spacer.gif" width="25%" height="10"></td>
<td width="10"><img src="images/spacer.gif" width="10" height="10"></td>
<td valign="top"><table width="100%" border="0" cellpadding="0" cellspacing="1" bgcolor="000000">
<tr> 
<td class="edges"><img src="images/spacer.gif" width="10" height="3"></td>
</tr>
<tr> 
<td class="titles" align="center" bgcolor="F6F6F6">
<p>
Resources &gt; Tutorials</td>
</tr>
<tr> 
<td bgcolor="FFFFFF"><table border="0" cellspacing="0" cellpadding="8">
<tr> 
<td class="maintext">
      <h2 align="center"><b>Getting Started with AGS - Part 8</b></h2>
      <h3>&nbsp;</h3>
      <h3>Conversations</h3>
      <p>What fun would an adventure be if there were no other characters to
      talk to? Probably not much!</p>
      <p>How much you go into dialog depends of course on your game style.
      Generally, Sierra games used to just have one fixed line of dialog which
      the characters would talk about, possibly changing if you talked to the
      same person again.<br>
      Lucasarts games (and some Sierra titles such as Quest for Glory) on the other hand,
      had complete dialog trees through which you could choose your topics to
      talk about.</p>
      <p>AGS lets you do it whichever way you want. We'll start off by looking
      at the complete dialog tree approach, and then see how easy it is to cut
      it down to get a Sierra-style system.&nbsp;</p>
      <p>Now, before we go any further, let's consider for a moment what
      conversation structure we want. It's going to be a lot easier to implement
      if we have this planned in advance. For this tutorial, we'll go for a
      structure like this:&nbsp;</p>
      <p align="center">
		<img border="1" src="images/intro8_1.jpg" width="537" height="259"><br>
      <i>Our planned dialog tree</i>
      <p>In other words, when we first speak to the other character, we will say
      &quot;Greetings!&quot;. After he replies, we will then be presented with
      three options to choose from.<br>
      The &quot;Tell me more about your wares&quot; option will then lead us to
      be able to ask a different set of questions.</p>
      <p dir="ltr">Before we begin, we need to create a second character - we can't just
      have Roger talking to himself! Go to the &quot;Characters&quot; node, 
		right-click it and choose &quot;New Character&quot;. Double-click the 
		new &quot;cChar1&quot; entry to open him up. </p>
		<p dir="ltr">In the property grid, give the new character a RealName -- I'll call him <i>Merchant</i>.
      Now - and this bit is vital - you also need to set this new character's <b>script
      name</b>. This is the name by which we refer to him when creating our
      dialogs. I'll just use &quot;cMerchant&quot; as the script name. I'd recommend 
		you set it to something sensible like this, and don't just leave it as 
		&quot;cChar1&quot; or else your dialog scripts will get very confusing!</p>
      <p>Ok, all done? Expand the &quot;Dialogs&quot; node in the editor, and 
		you'll see one existing &quot;0&quot; entry. We'd may as well use it since it's 
		there, so double-click it. (If not, you can always right-click the 
		Dialogs node and choose &quot;New dialog&quot; to make a new one). You'll see this 
		rather empty window:</p>
      <p align="center" dir="ltr">
		<img border="0" src="images/intro8_2.jpg" width="600" height="384"><br>
      <i>The dialog editor</i></p>
      <p>Conversations in AGS are made up of <b>topics</b>. A topic consists of
      a set of options that the player can talk about - not all of which are
      necessarily available to the player at the start of the game. When the
      player selects an option from a topic, the topic's <b>dialog script</b> is
      run.&nbsp;<p>Each topic can contain some start-up text, which is displayed
      before the options are presented to the player. Our &quot;Greetings&quot;
      line qualifies for this, so we don't need to make a special topic for it. 
		A <b>topic</b> is also referred to as a <b>dialog</b> in AGS -- the two 
		words are one and the same thing.<p dir="ltr">Right,
      let's make our first dialog. Click the &quot;Create new option&quot; button 
		three times, and three new rows will appear in the window. You'll also 
		notice some new lines being added to the script on the right hand side. 
		Make sure that the &quot;Show&quot; checkbox is ticked for all the options -- this 
		determines whether the options are initially available to the player or 
		not.<p dir="ltr">Also, this dialog currently has no name, but we'll need 
		to give it one so that we can access it later. The convention in AGS is 
		for dialogs to start with &quot;d&quot;, so I'm going to call this &quot;dMerchant&quot;. 
		Use the property grid to set the name, as usual.<p dir="ltr">Now, type 
		in some text to the three new text boxes:<p align="center"><i>
		<img border="0" src="images/intro8_3.jpg" width="600" height="384"><br>
      We've inserted three options for topic 0</i><p dir="ltr">While we're at it, let's
      create the next set of options too. Right click the &quot;Dialogs&quot; node in the 
		project tree, and select &quot;New Dialog&quot;. A new blank Dialog 1 is created. 
		Double-click on this, and again, create three new options
      and type them in. In the property grid, change the Name from &quot;dDialog1&quot; to 
		&quot;dWares&quot;.<p>Now, go back to the first dialog (select it in the tab bar), and 
		let's have a look at the script. This is <b>not</b> the same type of 
		script that we've used for our events like picking up the key. It's a 
		much simpler dialog-only scripting language.<p dir="ltr">Each of the &quot;@&quot; lines is an <b>entry
      point</b>. These define the different places where your script can start.&nbsp;
      The &quot;@S&quot; entry point happens when the topic is first started -
      and so this is where we want our &quot;Greetings&quot; text to be
      displayed.<p>Dialog scripting is very simple. It takes the form:<p>
		<font face="Courier New">SCRIPTNAME:
      &quot;Text to say&quot;</font><p>So, in between the &quot;@S&quot; and the
      &quot;@1&quot; lines, insert a couple of new lines, and type the
      following:<p><font face="Courier New">EGO: &quot;Greetings!&quot;<br>
      MERCHANT: &quot;Hello there!&quot;<br>
      return</font><p>Remember, these are the <b>script names</b> of the
      characters (but without the initial &quot;c&quot;). The &quot;return&quot; is essential, because it tells AGS to
      stop running the script at that point and to display the options to the
      player.<p>The numbered entry points will be run when the player selects
      the appropriate option - for example, if the player clicks the &quot;Who
      are you?&quot; option, then entry point&nbsp; @1&nbsp; will run.&nbsp;<p>Here's
      a finished script for this topic:<p align="center"><i>
		<img border="1" src="images/intro8_5.jpg" width="586" height="361"><br>
      Our finished dialog script</i><p dir="ltr">The <i>goto-dialog</i> command takes the
      player to another dialog - in this case, the new &quot;dWares&quot; dialog we just 
		created (with questions about the
      merchant's wares).<br>
      The <i>stop</i> command tells AGS to end the conversation and return to
      the game (whereas <i>return</i> returns them to the list of options to
      talk about).<p dir="ltr">Now, we're not quite done ... we've got to
      deal with our second dialog too! In the tab bar, click the &quot;Dialog: dWares&quot; 
		tab to return to the main topic. Fill in the script however you
      like. You can use the <i>goto-previous</i> command to take the player back
      to the first list of options when they get bored of talking about his
      wares.&nbsp;<p>Here's my completed script for dWares:<p align="center" dir="ltr"><i>
		<img border="1" src="images/intro8_6.jpg" width="554" height="288"><br>
      Dialog script for dWares</i><p>As you can see, it's done very similarly
      to the first one. Notice the use of &quot;return&quot; in the startup
      entry point, to make sure that it doesn't go on and run the next bit of
      script straight away.<p>We're almost done! All we've got to do now is add
      a way for the player to initiate the conversation.<p>Open up the Character 
		editor for the new <i>cMerchant</i> character.
      Change his StartingRoom to room 1 (ie. the same as the player character),
      and position him at let's say X:260, Y:130. You can always change this
      later.<p dir="ltr">Now, still with the Merchant open, go to his Events 
		list. Using your skills from earlier on in this tutorial, add a
      command to initiate the dialog when the player talks to the
      Merchant. Now, we're all set!<p dir="ltr" align="center"><i>
		<img border="1" src="images/intro8_7.jpg" width="266" height="87"><br>
      Event script to launch the dialog</i><p>Test the
      game, talk to the Merchant, and try out the conversation.<p><b>More on
      conversations</b><p>You may have noticed the &quot;Show&quot; and
      &quot;Say&quot; check-boxes in the dialog editors. You'll have noticed that
      when the player selects an option, the player character will say the
      option text. However, there are times when you won't want this to happen,
      and if you un-tick the &quot;Say&quot; box for an option, the character
      won't repeat the text when the player selects it.<p>The &quot;Show&quot;
      box determines whether the option is initially available to the player. If
      you uncheck it, then that option won't appear to start with. You can
      enable it later using the <i>option-on </i>dialog script command, or the
      <i>dDialogName.SetOptionState</i> script command.<p>There is
      also a dialog script command called <i>option-off</i>, which you can use
      to stop a particular option from appearing once the character has found
      out all the vital information. See the manual reference for more.<p>If
      there is only one option enabled for a topic, then the game selects it
      automatically. You can use this to make Sierra-style conversations,
      because the options will never be shown to the player in this case.&nbsp;<p><b>
		<br>
		Go to part 9:</b>  &nbsp;<a href="acintro9.htm" style="font-weight: bold">Cursors and fonts</a>
      <p><font size="2">Tutorial last updated 18 August 2007. Copyright (c) 2003-2007
      Chris Jones.</font>        
      </td>
</tr>
</table></td>
</tr>
<tr> 
<td class="edges"><img src="images/spacer.gif" width="10" height="3"></td>
</tr>
</table>
</td>
</tr>
</table>

<!--msnavigation--></td></tr><!--msnavigation--></table></body>
</html>